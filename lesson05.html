<!DOCTYPE html>
<html>
    <head>
        <title>lesson05</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<style>
		.inputblock input{
		margin:1em;
		}
		</style>
        <script src="./dist/avalon.js"></script>
       
        <script>
           
            var vm = avalon.define({
                $id: 'test',
                aaa: 'zzz',
                title:'ttttt',
				src: '有内容',
				lang: 'llll'
            })
            
            //vm.a = 999
            //vm.aaa.bbb.ccc = 777
            //console.log(vm.$model)
			var vm1 = avalon.define({
				$id:'test1',
				detail:{product_name:''},
				pdname:'紧固件1'
			});
        </script>
    </head>
    <body>
		<div ms-controller="test">
        title:<div  aaa='ddd' bbb=333 
            ms-attr='{title: @src,ddd:@src, lang:@lang}' >{{@src ? '有标题': '无标题'}}</div>
      <input ms-duplex="@src"/> 删除格子内容，抬头部分会自动变化
		</div>
		<hr />
		<div ms-controller="test1" class="inputblock">
		<input id="prepare" ms-duplex="@pdname"><button type="button" onclick="sync_data()">同步到下面</button>
		<br/>
		<input ms-duplex="@detail.product_name" />修改左边会同步到右边，但是修改右边不会同步到左边
		<input ms-attr="{value:@detail.product_name}" />
    </body>
	<script>
		function sync_data()
		{
			var from = document.getElementById('prepare').value;
			vm1.detail.product_name = vm1.pdname;
		}
	</script>
</html>